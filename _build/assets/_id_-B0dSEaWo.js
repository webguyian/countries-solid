import{v as t,e as l,S as $,K as S,w as a,y as A,O as D,j as w,I as B,A as L,D as O,C}from"./index-B7oWGaDf.js";import{c as R}from"./createAsync-DC4aD4o9.js";var P=a("<dl class=text-sm>"),E=a('<dt class="font-bold mr-2">:'),F=a("<dd>"),H=a('<div class="flex mb-2">');function j({items:i}){return(()=>{var c=P();return t(c,l(S,{each:i,children:d=>(()=>{var n=H();return t(n,l($,{get when(){return d.value},get children(){return[(()=>{var r=E(),s=r.firstChild;return t(r,()=>d.key,s),r})(),(()=>{var r=F();return t(r,()=>d.value),r})()]}})),n})()})),c})()}var I=a('<img class="max-h-80 border dark:border-gray-500">'),K=a('<dl class="flex flex-col md:flex-row mt-8 text-sm"><dt class="font-bold whitespace-nowrap mr-4 mb-4">Border Countries:</dt><dd class="flex flex-wrap">'),M=a('<div class="grid grid-cols-fluid gap-4 items-center"><div class=max-w-lg></div><div class=text-left><h2 class="mb-4 text-3xl font-extrabold tracking-tight text-gray-900 dark:text-white"></h2><div class="grid grid-cols-2 gap-4">'),N=a('<div><div class="mb-8 flex"><a href=/ class="inline-flex items-center shadow py-2 px-6 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded border border-gray-200 hover:bg-gray-100 focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-700"><svg class=mr-2 xmlns=http://www.w3.org/2000/svg width=16 height=16 fill=currentColor viewBox="0 0 16 16"><path fill-rule=evenodd d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"></path></svg>Back'),T=a("<p>Loading..."),U=a('<a class="py-2 px-6 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded border border-gray-200 hover:bg-gray-100 focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-700">');const q=A(async i=>{if(!i)return;const c=`${L}/alpha/${i}`,n=(await fetch(c).then(r=>r.json()))?.[0];if(n.borders){const r=await fetch(`${L}/alpha?codes=${n.borders.join()}&fields=name,cca3`).then(s=>s.json());n.borderCountries=r.reduce((s,f)=>(s[f.cca3]=f.name.common,s),{})}return n},"countryDetail");function J(){const i=D(),[c,d]=w([]),[n,r]=w([]),[s,f]=w([]),e=R(()=>q(i.id));return B(()=>{const u=e()?.capital?.[0]??"N/A",_=e()?.region,h=e()?.population?.toLocaleString("en-us"),v=e()?.tld?.join(", "),p=Object.values(e()?.currencies??{}).map(y=>y.name).join(", "),b=Object.values(e()?.languages??{}).join(", ");d([{key:"Capital",value:u},{key:"Region",value:_},{key:"Population",value:h}]),r([{key:"Top-Level Domain",value:v},{key:"Currencies",value:p},{key:"Languages",value:b}]),e()?.borderCountries&&f(Object.keys(e().borderCountries))}),(()=>{var u=N(),_=u.firstChild;return _.firstChild,t(u,l($,{get when(){return e()},get fallback(){return T()},get children(){var h=M(),v=h.firstChild,p=v.nextSibling,b=p.firstChild,y=b.nextSibling;return t(v,l($,{get when(){return e().flags?.svg},get children(){var g=I();return O(o=>{var x=e().flags.alt,m=e().flags.svg;return x!==o.e&&C(g,"alt",o.e=x),m!==o.t&&C(g,"src",o.t=m),o},{e:void 0,t:void 0}),g}})),t(b,()=>e().name.common),t(y,l(j,{get items(){return c()}}),null),t(y,l(j,{get items(){return n()}}),null),t(p,l($,{get when(){return s()},get children(){var g=K(),o=g.firstChild,x=o.nextSibling;return t(x,l(S,{get each(){return s()},children:m=>(()=>{var k=U();return C(k,"href",`/country/${m}`),t(k,()=>e().borderCountries[m]),k})()})),g}}),null),h}}),null),u})()}export{J as default};
