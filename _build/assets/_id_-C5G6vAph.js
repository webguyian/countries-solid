import{v as r,e as a,S as x,K as A,w as n,y as D,O as B,j as w,I as O,A as C,z as L,D as P,P as j}from"./index-Dk6Hz7A5.js";import{c as R}from"./createAsync-C64tTjj8.js";var E=n("<dl class=text-sm>"),F=n('<dt class="font-bold mr-2">:'),H=n("<dd>"),I=n('<div class="flex mb-2">');function S({items:i}){return(()=>{var c=E();return r(c,a(A,{each:i,children:d=>(()=>{var s=I();return r(s,a(x,{get when(){return d.value},get children(){return[(()=>{var t=F(),l=t.firstChild;return r(t,()=>d.key,l),t})(),(()=>{var t=H();return r(t,()=>d.value),t})()]}})),s})()})),c})()}var K=n('<svg class=mr-2 xmlns=http://www.w3.org/2000/svg width=16 height=16 fill=currentColor viewBox="0 0 16 16"><path fill-rule=evenodd d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8">'),z=n('<img class="max-h-80 border dark:border-gray-500">'),M=n('<dl class="flex flex-col md:flex-row mt-8 text-sm"><dt class="font-bold whitespace-nowrap mr-4 mb-4">Border Countries:</dt><dd class="flex flex-wrap">'),N=n('<div class="grid grid-cols-fluid gap-4 items-center"><div class=max-w-lg></div><div class=text-left><h2 class="mb-4 text-3xl font-extrabold tracking-tight text-gray-900 dark:text-white"></h2><div class="grid grid-cols-2 gap-4">'),T=n('<div><div class="mb-8 flex">'),U=n("<p>Loading...");const q=D(async i=>{if(!i)return;const c=`${C}/alpha/${i}`,s=(await fetch(c).then(t=>t.json()))?.[0];if(s.borders){const t=await fetch(`${C}/alpha?codes=${s.borders.join()}&fields=name,cca3`).then(l=>l.json());s.borderCountries=t.reduce((l,h)=>(l[h.cca3]=h.name.common,l),{})}return s},"countryDetail");function Q(){const i=B(),[c,d]=w([]),[s,t]=w([]),[l,h]=w([]),e=R(()=>q(i.id)),k="py-2 px-6 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded border border-gray-200 hover:bg-gray-100 focus:ring-2 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-700";return O(()=>{const g=e()?.capital?.[0]??"N/A",_=e()?.region,f=e()?.population?.toLocaleString("en-us"),v=e()?.tld?.join(", "),p=Object.values(e()?.currencies??{}).map(b=>b.name).join(", "),$=Object.values(e()?.languages??{}).join(", ");d([{key:"Capital",value:g},{key:"Region",value:_},{key:"Population",value:f}]),t([{key:"Top-Level Domain",value:v},{key:"Currencies",value:p},{key:"Languages",value:$}]),e()?.borderCountries&&h(Object.keys(e().borderCountries))}),(()=>{var g=T(),_=g.firstChild;return r(_,a(L,{href:"/",class:`inline-flex items-center shadow ${k}`,get children(){return[K(),"Back"]}})),r(g,a(x,{get when(){return e()},get fallback(){return U()},get children(){var f=N(),v=f.firstChild,p=v.nextSibling,$=p.firstChild,b=$.nextSibling;return r(v,a(x,{get when(){return e().flags?.svg},get children(){var u=z();return P(o=>{var y=e().flags.alt,m=e().flags.svg;return y!==o.e&&j(u,"alt",o.e=y),m!==o.t&&j(u,"src",o.t=m),o},{e:void 0,t:void 0}),u}})),r($,()=>e().name.common),r(b,a(S,{get items(){return c()}}),null),r(b,a(S,{get items(){return s()}}),null),r(p,a(x,{get when(){return l().length},get children(){var u=M(),o=u.firstChild,y=o.nextSibling;return r(y,a(A,{get each(){return l()},children:m=>a(L,{href:`/country/${m}`,class:k,get children(){return e().borderCountries[m]}})})),u}}),null),f}}),null),g})()}export{Q as default};
